# `tidyjs-ignore` Pragma

The `// tidyjs-ignore` pragma excludes a file from automatic formatting by TidyJS. When this comment is present, the file is entirely ignored â€” whether during format-on-save, manual formatting, or batch formatting.

## Usage

Place the `// tidyjs-ignore` comment on its own line, anywhere in the file:

```typescript
// tidyjs-ignore
import './polyfills';
import { something } from 'somewhere';
import React from 'react';
```

### Syntax Rules

- The comment must be on **its own line** (not at the end of a code line)
- Surrounding whitespace is tolerated: `//tidyjs-ignore`, `//  tidyjs-ignore`, `  // tidyjs-ignore`
- A single pragma is enough to ignore the entire file
- Position within the file does not matter (beginning, middle, end)

```typescript
// Valid
// tidyjs-ignore

//   tidyjs-ignore

  // tidyjs-ignore

// Invalid (at the end of a code line)
import React from 'react'; // tidyjs-ignore
```

## Smart Detection

TidyJS only detects the pragma inside **actual comments**. Occurrences inside string literals or template literals are ignored, preventing false positives.

### String Literals Are Ignored

```typescript
// This will NOT be detected as a pragma:
const message = "// tidyjs-ignore";
const other = '// tidyjs-ignore';
```

### Template Literals Are Ignored

```typescript
// This will NOT be detected as a pragma:
const template = `
// tidyjs-ignore
some content
`;
```

The detection mechanism tracks template literal state line by line: it counts backticks outside of strings to determine whether a line falls inside a multiline template literal. Escape sequences (`\'`, `\"`, `` \` ``) are handled correctly.

## Use Cases

### Manually Ordered Imports

Some files require a specific import order that does not match TidyJS automatic rules:

```typescript
// tidyjs-ignore

// The order here is intentional for polyfill loading
import './polyfills/core';
import './polyfills/dom';
import './polyfills/fetch';
import { app } from './app';
```

### Polyfill Files

Files that import side effects in a precise order:

```typescript
// tidyjs-ignore

// These imports must remain in this exact order
import 'reflect-metadata';
import 'zone.js';
import 'zone.js/testing';
```

### Barrel Files with Specific Order

Some `index.ts` files export in a deliberate order:

```typescript
// tidyjs-ignore

// Intentional export order for the public API
export { initialize } from './init';
export { createApp } from './app';
export { configure } from './config';
export type { AppConfig } from './types';
```

### Generated Files

Auto-generated files produced by tooling should not be reformatted:

```typescript
// tidyjs-ignore
// This file is auto-generated by graphql-codegen
import type { DocumentNode } from '@apollo/client';
import { gql } from '@apollo/client';
// ...
```

## Behavior in Batch Formatting

When using the **"TidyJS: Format Folder"** command, files containing the pragma are automatically skipped with the reason `ignored` in the final report. See the [batch formatting documentation](./batch-formatting.md) for details.
